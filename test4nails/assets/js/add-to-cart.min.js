"use strict";var url=SharedData.adminAjax;function addToCart(t){var a=2<arguments.length?arguments[2]:void 0,o={action:"add_to_cart",product_id:t,qty:1<arguments.length&&void 0!==arguments[1]?arguments[1]:1};a.addClass("loading"),$.post(url,o,function(t){"ok"===(t=JSON.parse(t)).status&&($(".count-error").hide(),$("body").trigger("wc_fragment_refresh"),trigger(),updateModal(t.modal)),"error"===t.status&&($(document.body).trigger("checkout_error"),Fancybox.show([{src:"#quantity-modal",type:"inline"}]),$(".product__value").val($(".count-error").data("count")))}).done(function(){a.removeClass("loading"),a.addClass("added")})}function trigger(){$(":input[name=update_cart]").trigger("click")}function updateModal(t){bodyClass("woocommerce-cart")||($("#addedToCart .modal-body").replaceWith(t),Fancybox.show([{src:"#addedToCart",type:"inline"}],{on:{destroy:function(t,a){}}}))}function updateCart(){var t=$(".mini-cart"),a=t.find(".cart-fragments .qty").first().text();$(".product-quantity").html(a),0<a?t.addClass("active"):t.removeClass("active")}function watch(){$("body").on("click",".qty-btn",function(t){t.preventDefault();var a=$(t.currentTarget),o=a.parent().find("input"),e=o.attr("max"),r=Math.abs(parseInt(o.val()));a.hasClass("product__plus")&&r<e?o.val(++r).trigger("change"):a.hasClass("product__minus")&&0<r&&o.val(--r).trigger("change")})}function enable(){$(":input[name=update_cart]").removeAttr("disabled")}$(document.body).on("checkout_error",function(){}),$("body").on("added_to_cart",function(t,a){updateModal(a.modal)}),console.log("imworking"),bodyClass("single-product")&&$("button.add-to-cart:not(.add-to-cart-variable)").click(function(t){t.preventDefault();var a=$(t.currentTarget);addToCart(a.val(),a.closest("form").find(".product__value").val(),a)}),bodyClass("woocommerce-cart")?$(document).ajaxComplete(function(){return $("html, body").stop()}):$("body").on("removed_from_cart added_to_cart",function(){setTimeout(function(){return updateCart()},1e3)}).on("click",".remove_from_cart_button",function(){$(".mini-cart").find(".mini-content").addClass("blockOverlay")}).on("wc_fragments_refreshed ",function(){return updateCart()}),$("body").on("change",".qty",function(){enable(),trigger()}),(bodyClass("single-product")||bodyClass("woocommerce-cart"))&&(setTimeout(function(){return enable()}),watch(),jQuery(document.body).on("updated_cart_totals",function(){enable()}),jQuery(document.body).on("removed_from_cart",function(){enable()}));
